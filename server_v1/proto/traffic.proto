// gRPC service for registering traffic control clients

syntax = "proto3";

package traffic;

service TrafficService {
  rpc RegisterClient (ClientType) returns (Ack);
  rpc UpdateLightStatus (LightStatusRequest) returns (Ack);
}

message ClientType {
  string id = 1;     // <-- Add this line to support ID registration
  string role = 2;   // 'road_light', 'rail_light', 'barrier', etc.
}

message Ack {
  string message = 1;
}

message LightStatusRequest {
  string id = 1;
  string status = 2;
}
