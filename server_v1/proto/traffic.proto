// gRPC service for registering traffic control clients

syntax = "proto3";

package traffic;

service TrafficService {
  rpc Login (LoginRequest) returns (LoginResponse);
  rpc RegisterClient (ClientType) returns (Ack);
  rpc scheduleRailLigths(RailLightsRequest) returns(RailLightsResponse);
  rpc UpdateLightStatus (LightStatusRequest) returns (Ack);
  }

message LoginRequest {
  string username = 1;
  string password = 2;
}

message LoginResponse {
  string message = 1;
}

message ClientType {
  string id = 1;     // <-- Add this line to support ID registration
  string role = 2;   // 'road_light', 'rail_light', 'barrier', etc.
}

message Ack {
  string message = 1;
}


message RailLightsRequest{
  string clientType=1;
  string status=2;
}

message RailLightsResponse{
  string sendOut=1;
}

message LightStatusRequest {
  string id = 1;
  string status = 2;
}

